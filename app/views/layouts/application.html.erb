<!DOCTYPE html>
<html>
  <head>
    <title>GymAPP - Sistema de Gerenciamento</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <%= javascript_importmap_tags %>
  </head>
  <body class="bg-gray-50" data-turbo-permanent>
    <!-- Loading indicator -->
    <div id="turbo-progress-bar" class="fixed top-0 left-0 z-50 h-1 bg-blue-600 transition-all duration-300 ease-out" style="width: 0%"></div>
    
    <!-- Hotwire Status Indicator (apenas em desenvolvimento) -->
    <% if Rails.env.development? %>
      <div id="hotwire-indicator" class="fixed bottom-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg z-50 flex items-center gap-2">
        <span class="animate-pulse">âš¡</span>
        <span>Hotwire Ativo</span>
      </div>
    <% end %>
    
    <div class="min-h-screen flex">
      <% if logged_in? %>
        <%= render 'layouts/navigation' %>
      <% end %>
      
      <div class="flex-1 flex flex-col">
        <!-- Flash Messages -->
        <div id="flash_messages" data-turbo-permanent>
          <%= render 'layouts/flash', flash: flash %>
        </div>
        
        <!-- Main Content -->
        <main class="flex-1 p-6" id="main">
          <%= yield %>
        </main>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2" data-turbo-permanent></div>
    
    <!-- Modal Container -->
    <div id="modal-container" data-turbo-permanent></div>
  </body>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
  </style>
</html>
